import{r as m,j as e,M as j,S as y,I as f,B as b,m as p,t as w,T as S,a as v,u as C,F as B,c as N,R as I}from"./vendor-bd23e372.js";import"./common-c82c0f84.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const P=({menuKey:t,setMenuKey:r})=>{const[s,l]=m.useState([{label:"Index ",key:"index"},{label:"About",key:"about",className:"menu-about"}]);m.useEffect(()=>{if(window.userscript!=null){let n=[...Object.keys(window.userscript)].map(c=>({label:c,key:c}));const a=[...s,...n];console.log(a),l(a)}},[]);const o=n=>{r(n.key)};return e.jsx(j,{onClick:o,selectedKeys:[t],mode:"vertical",items:s})},_=t=>e.jsx("hr",{id:t.id,className:"line"}),K=t=>{const[r,s]=m.useState(""),[l,o]=m.useState(""),[n,a]=m.useState(""),c=(i,x)=>{if(i.trim()===""){p.error("值不可为空!!");return}t.value.includes(x)?t.onChange(t.value.replace(x,`${x}${i}
`)):t.onChange(`${t.value}
${x}${i}
`),p.success("添加成功!")},h=()=>{c(r,`#name
`),s("")},d=()=>{c(l,`#bio
`),o("")},u=()=>{c(n,`#text
`),a("")};return e.jsx(e.Fragment,{children:e.jsxs(y,{direction:"vertical",size:"middle",children:[e.jsxs(y.Compact,{children:[e.jsx(f,{defaultValue:"",placeholder:"用户名屏蔽词",value:r,onChange:i=>s(i.target.value)}),e.jsx(b,{type:"primary",onClick:h,children:"添加用户名屏蔽词"})]}),e.jsxs(y.Compact,{children:[e.jsx(f,{defaultValue:"",placeholder:"用户介绍Bio屏蔽词",value:l,onChange:i=>o(i.target.value)}),e.jsx(b,{type:"primary",onClick:d,children:"添加用户介绍Bio屏蔽词"})]}),e.jsxs(y.Compact,{children:[e.jsx(f,{defaultValue:"",placeholder:"推文屏蔽词",value:n,onChange:i=>a(i.target.value)}),e.jsx(b,{type:"primary",onClick:u,children:"添加推文屏蔽词"})]}),e.jsx(f.TextArea,{autoSize:!0,value:t.value,onChange:i=>t.onChange(i.target.value)})]})})},g=(t,r)=>t.includes(r),k=(t=[],r=[])=>t.map(({children:s,...l})=>({...l,disabled:r.includes(l.key),children:k(s,r)})),T=({dataSource:t,targetKeys:r,disabled:s,...l})=>{const{token:o}=w.useToken(),n=[];function a(c=[]){c.forEach(h=>{n.push(h),a(h.children)})}return a(t),e.jsx(S,{...l,disabled:s,oneWay:!0,showSearch:!0,targetKeys:r,dataSource:n,className:"tree-transfer",titles:["所有UI","隐藏UI"],render:c=>c.title,showSelectAll:!1,style:{width:"100%"},children:({direction:c,onItemSelect:h,selectedKeys:d})=>{if(c==="left"){const u=[...d,...r];return e.jsx("div",{style:{padding:o.paddingXS},children:e.jsx(v,{blockNode:!0,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,checkedKeys:u,treeData:k(t,r),onCheck:(i,{node:{key:x}})=>{h(x,!g(u,x))},onSelect:(i,{node:{key:x}})=>{h(x,!g(u,x))}})})}}})},F=[{key:"#csdn-toolbar",title:"头部工具栏toolbar",children:[{key:"#csdn-toolbar .toolbar-container-left",title:"左边部分",children:[{key:"#csdn-toolbar .toolbar-logo",title:"CSDN LOGO"},{key:"#csdn-toolbar .toolbar-menus",title:"菜单"}]},{key:"#csdn-toolbar .toolbar-container-middle",title:"中间部分",children:[{key:"#csdn-toolbar .toolbar-search",title:"搜索",children:[{key:"#toolbar-search-button",title:"搜索按钮"}]}]},{key:"#csdn-toolbar .toolbar-container-right",title:"右边部分",children:[{key:"#csdn-toolbar .toolbar-btn-login",title:"登录"},{key:"#csdn-toolbar .toolbar-btn-vip",title:"会员中心"},{key:"#csdn-toolbar .toolbar-btn-msg",title:"消息"},{key:"#csdn-toolbar .toolbar-btn-collect",title:"历史"},{key:"#csdn-toolbar .toolbar-btn-mp",title:"创作中心"},{key:"#csdn-toolbar .toolbar-btn-writet",title:"发布"}]}]},{key:"#mainBox",title:"主内容",children:[{key:"#mainBox .blog_container_aside",title:"左侧边栏",children:[{key:"#asideProfile",title:"用户档案",children:[{key:"#asideProfile .profile-intro",title:"头像及名称"},{key:"#asideProfile .data-info",title:"数据信息"},{key:"#asideProfile .item-rank",title:"item-rank"},{key:"#asideProfile .aside-box-footer",title:"徽章"},{key:"#asideProfile .profile-intro-name-boxOpration",title:"私信及关注按钮"}]},{key:"#footerRightAds",title:"广告"},{key:"#asideWriteGuide",title:"创作推广"},{key:"#asideSearchArticle",title:"搜索博主文章"},{key:"#asideHotArticle",title:"热门文章"},{key:"#asideCategory",title:"收藏"},{key:"#asideNewComments",title:"最新评论"},{key:"#asideNewNps",title:"您愿意向朋友推荐“博客详情页”吗？"},{key:"#asideArchive",title:"最新文章"},{key:"#asidedirectory",title:"目录"}]},{key:"main .blog-content-box",title:"文章主体",children:[{key:"main .article-header-box",title:"头部",children:[{key:"main .article-title-box",title:"标题"},{key:"main .article-info-box",title:"信息",children:[{key:"main .article-bar-top",title:"bar top",children:[{key:"main .article-title-box .article-type-img",title:"图标"}]},{key:"main .blog-tags-box",title:"标签"}]}]},{key:"main .baidu_pl",title:"文章",children:[{key:"#article_content",title:"文章内容"},{key:"#treeSkill",title:"文章知识点与官方知识档案匹配，可进一步学习相关知识"},{key:"#blogVoteBox",title:"投票"}]},{key:".recommend-box",title:"推荐",children:[{key:".first-recommend-box",title:"第一条推荐"},{key:".second-recommend-box",title:"第二条推荐"},{key:".insert-baidu-box.recommend-box-style",title:"其他推荐"}]},{key:"#recommendNps",title:"“相关推荐”对你有帮助么？"},{key:"#commentBox",title:"评论Box"},{key:"#pcCommentBox",title:"pc评论Box"}]},{key:"#toolBarBox",title:"底部工具栏"},{key:".blog-footer-bottom",title:"页脚(版权/备案)"}]},{key:"#rightAside",title:"右侧边栏(登录后才有)",children:[{key:"#groupfile",title:"目录"},{key:"#rightAside .kind_person",title:"分类"}]},{key:".csdn-side-toolbar",title:"侧边工具栏",children:[{key:".sidetool-writeguide-box",title:"创作话题"},{key:".option-box[data-type=guide]",title:"新手引导"},{key:".option-box[data-type=cs]",title:"客服"},{key:".option-box[data-type=report]",title:"举报"},{key:".option-box[data-type=gotop]",title:"返回顶部"}]},{key:".passport-container-mini-tip",title:"右下角登录提示"}],L=t=>{const[r,s]=m.useState(t.value),l=o=>{s(o),t.onChange(o)};return e.jsx(e.Fragment,{children:e.jsx(T,{disabled:t.disabled,dataSource:F,targetKeys:r,onChange:l})})},A=({menuKey:t})=>{var h;const r=C();let s={};const[l,o]=m.useState({});(h=window.userscript)!=null&&h[t]&&(s=window.userscript[t].props),m.useEffect(()=>{const d={};Object.keys(s).forEach(i=>{d[i]={type:"string",widget:"input",title:i,...s[i],default:window.userscript[t].get(`${t}_${i}`,s[i].default),extra:`default: ${s[i].default}`},s[i].extra&&(d[i].widget=="line"?d[i].extra=s[i].extra:d[i].extra=s[i].extra+` default: ${s[i].default??s[i].defaultValue??""}`)});const u={type:"object",column:window.innerWidth>720?2:1,properties:d};console.log(u),o(u)},[t]);const n=d=>{console.log("formData:",d);for(const u of Object.keys(d)){if(u.startsWith("."))continue;const i=d[u];i!=l.properties[u].default&&window.userscript[t].set(`${t}_${u}`,i),location.reload()}},a=()=>{r.submit()},c=()=>{location.reload()};return e.jsxs(e.Fragment,{children:[e.jsx(B,{form:r,schema:l,widgets:{Line:_,Twitter_user_rule_editor:K,CSDN_UI_editor:L},onFinish:n,maxWidth:360,footer:!1}),e.jsxs("div",{style:{position:"fixed",bottom:"18px",right:"24px",zIndex:999,fontSize:"18px",width:"auto",height:"auto"},children:[e.jsx(b,{onClick:c,type:"default",size:"large",style:{position:"relative",border:"1px solid #4ea1db",margin:"8px"},children:"取消"}),e.jsx(b,{onClick:a,type:"primary",size:"large",style:{position:"relative",border:"1px solid #4ea1db",margin:"8px",boxShadow:"1px 1px 14px #4ea1db"},children:"保存"})]})]})};function O(){const t=new URLSearchParams(window.location.search),[r,s]=m.useState(t.get("menuKey")||"index");return m.useEffect(()=>{const l=new URLSearchParams(window.location.search);console.log("searchParams.get('menuKey'):",l.get("menuKey")),console.log("menuKey:",r),l.get("menuKey")!==r&&(l.set("menuKey",r),window.history.pushState(null,"",`?${l.toString()}`))},[r]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"menu",children:e.jsx(P,{menuKey:r,setMenuKey:s})}),e.jsxs("div",{className:"main",children:[r!=="index"&&r!=="about"&&e.jsx(A,{menuKey:r}),r==="index"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:" 点击左测标签栏选择脚本 "}),e.jsx("h4",{children:"其他脚本: "}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("a",{href:"https://greasyfork.org/zh-CN/scripts/471069",children:"哔哩哔哩 BILIBILI 美化|增强|自定义背景|评论过滤等"})]}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("a",{href:"https://greasyfork.org/zh-CN/scripts/471071",children:"CSDN-优化美化极简化-沉浸式阅读-免登录复制-去广告等"})]}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/yuhanawa/UserScript",children:"GITHUB仓库"})]})]}),r==="about"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:"其他脚本: "}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("a",{href:"https://greasyfork.org/zh-CN/scripts/471069",children:"哔哩哔哩 BILIBILI 美化|增强|自定义背景|评论过滤等"})]}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("a",{href:"https://greasyfork.org/zh-CN/scripts/471071",children:"CSDN-优化美化极简化-沉浸式阅读-免登录复制-去广告等"})]}),e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("a",{href:"https://github.com/yuhanawa/UserScript",children:"GITHUB仓库"})]})]})]})]})}N.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(O,{})}));
